---
title: 异或加密算法的实现
tags: [算法]
category: 编程
date: 2018-05-09 22:19:50
---

## xor加密原理

本文源于阮一峰的博客。

异或原先的性质如下所示，相同的位返回0，不同的位返回1。按位异或的运算有个特殊的性质，即对同一个数据异或两遍后，会得到原来的数据。因为相同的数据异或后会变成0，而0不管和什么数据异或都返回原来的数据。

```c
1 ^ 1 // 0
0 ^ 0 // 0
1 ^ 0 // 1
0 ^ 1 // 1
    
// 第一次 XOR
1010 ^ 1111 // 0101
// 第二次 XOR
0101 ^ 1111 // 1010
```

根据这个性质，我们可以设计一个key，在数据发送前，把数据和key异或一下再发送出去，接收端只要再重新将收到的数据用同一个key异或一次就可以还原出原来的数据了。二战期间，各国为了电报加密，对密码学进行了大量的研究和实践，其中就包括 XOR 加密。战后，英国计算机学家香农（Claude Shannon）将他的[研究成果](https://en.wikipedia.org/wiki/One-time_pad#Perfect_secrecy)公开发表，证明了只要满足两个条件，XOR 加密是无法破解的。

> - key的长度大于等于message
> - key必须是一次性的，且每次都要随机产生

因为如果每次的key都是随机的，那么产生出来的加密文本也随机分布的，具有最大的信息熵，称为XOR的完美保密性，满足上面两个条件的key，叫做 [one-time pad](https://en.wikipedia.org/wiki/One-time_pad)（缩写为OTP），意思是"一次性密码本"，因为以前这样的key都是印刷成密码本，每次使用的时候，必须从其中挑选key。

## xor 加密登录密码实例

先用MD5算法得到一个随机的key，再通过xor加密文本。